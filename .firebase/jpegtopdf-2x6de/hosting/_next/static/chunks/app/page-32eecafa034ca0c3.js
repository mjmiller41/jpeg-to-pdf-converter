(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{2299:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>D});var a=r(5155),s=r(2115),o=r(9434);let n=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,o.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",r),...s})});n.displayName="Card";let i=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,o.cn)("flex flex-col space-y-1.5 p-6",r),...s})});i.displayName="CardHeader";let l=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,o.cn)("text-2xl font-semibold leading-none tracking-tight",r),...s})});l.displayName="CardTitle";let d=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,o.cn)("text-sm text-muted-foreground",r),...s})});d.displayName="CardDescription";let c=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,o.cn)("p-6 pt-0",r),...s})});c.displayName="CardContent";let f=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,o.cn)("flex items-center p-6 pt-0",r),...s})});f.displayName="CardFooter";var p=r(9708);let u=(0,r(2085).F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),m=s.forwardRef((e,t)=>{let{className:r,variant:s,size:n,asChild:i=!1,...l}=e,d=i?p.DX:"button";return(0,a.jsx)(d,{className:(0,o.cn)(u({variant:s,size:n,className:r})),ref:t,...l})});m.displayName="Button";let g=s.forwardRef((e,t)=>{let{className:r,type:s,...n}=e;return(0,a.jsx)("input",{type:s,className:(0,o.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",r),ref:t,...n})});g.displayName="Input";var h=r(9069),v=r(7607),x=r(5300),j=r(7223),w=r(172),y=r(8718),b=r(6766),P=r(6597),N=r(3824),E=r(7481);function D(){let[e,t]=(0,s.useState)([]),[r,o]=(0,s.useState)([]),[p,u]=(0,s.useState)(!1),[D,C]=(0,s.useState)(!1),[F,T]=(0,s.useState)("jpegToPdf"),{toast:S}=(0,E.dj)(),A=(0,s.useRef)(null);(0,s.useEffect)(()=>{N.EA.workerSrc="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/".concat(N.rE,"/pdf.worker.min.mjs")},[]);let J=(0,s.useCallback)(()=>{t([]),o([]),A.current&&(A.current.value="")},[]),k=(0,s.useCallback)(e=>{if(J(),!e||0===e.length)return;let r=Array.from(e),a=[],s=[];"jpegToPdf"===F?(a=r.filter(e=>"image/jpeg"===e.type),r.forEach(e=>{"image/jpeg"!==e.type&&s.push("".concat(e.name,": Not a JPEG file."))}),a.length>0?Promise.all(a.map(e=>new Promise((t,r)=>{let a=new FileReader;a.onloadend=()=>t(a.result),a.onerror=t=>r(Error("Failed to read ".concat(e.name))),a.readAsDataURL(e)}))).then(e=>{o(e),t(a),s.length>0?S({variant:"destructive",title:"Some Files Invalid",description:s.join(" ")+" Only JPEG files were kept."}):S({title:"".concat(a.length," JPEG(s) Selected"),description:"Ready for PDF conversion."})}).catch(e=>{o([]),t([]),S({variant:"destructive",title:"File Read Error",description:e.message})}):(o([]),t([]),s.length>0?S({variant:"destructive",title:"Invalid Files",description:s.join(" ")+" Please upload JPEG files."}):S({variant:"destructive",title:"No JPEG Files",description:"Please upload JPEG files."}))):(a=r.filter(e=>"application/pdf"===e.type),r.forEach(e=>{"application/pdf"!==e.type&&s.push("".concat(e.name,": Not a PDF file."))}),t(a),a.length>0?Promise.all(a.map(async e=>{try{let t=await e.arrayBuffer(),r=await N.YE({data:t}).promise,a=await r.getPage(1),s=a.getViewport({scale:.5}),o=document.createElement("canvas"),n=o.getContext("2d");if(o.height=s.height,o.width=s.width,!n)throw Error("Could not get canvas context");return await a.render({canvasContext:n,viewport:s}).promise,o.toDataURL("image/jpeg")}catch(t){return console.error("Error generating preview for ".concat(e.name,":"),t),""}})).then(e=>{o(e),s.length>0&&S({variant:"destructive",title:"Some Files Invalid",description:s.join(" ")+" Only PDF files were kept."}),S({title:"".concat(a.length," PDF(s) Selected"),description:"Ready for JPEG conversion."})}).catch(e=>{S({variant:"destructive",title:"Preview Generation Error",description:e.message})}):s.length>0?S({variant:"destructive",title:"Invalid Files",description:s.join(" ")+" Please upload PDF files."}):S({variant:"destructive",title:"No PDF Files",description:"Please upload PDF files."}))},[F,S,J]),G=(0,s.useCallback)(e=>{e.preventDefault(),e.stopPropagation(),C(!1),k(e.dataTransfer.files)},[k]),_=(0,s.useCallback)(e=>{e.preventDefault(),e.stopPropagation(),D||C(!0)},[D]),R=(0,s.useCallback)(e=>{e.preventDefault(),e.stopPropagation(),C(!1)},[]),O=()=>{J(),S({title:"Selection Cleared",description:"You can now upload new files."})},I=async()=>{if(0===e.length||r.length!==e.length)return void S({variant:"destructive",title:"No Valid Files",description:"Please select JPEG file(s) first."});u(!0);try{let t=new P.Ay({orientation:"p",unit:"pt",format:"a4"}),a=t.internal.pageSize,s=a.getWidth(),o=a.getHeight(),n=s-80,i=o-80,l=r.map(e=>new Promise((t,r)=>{let a=document.createElement("img");a.onload=()=>t(a),a.onerror=()=>r(Error("Failed to load one of the images for PDF conversion.")),a.src=e}));(await Promise.all(l)).forEach((e,r)=>{let a,l;r>0&&t.addPage();let d=e.naturalWidth,c=e.naturalHeight,f=d/c,p=n/i;f>p?l=(a=n)/f:a=(l=i)*f;let u=(s-a)/2,m=(o-l)/2;t.addImage(e,"JPEG",u,m,a,l)});let d=e.length>1?"converted_images.pdf":"".concat(e[0].name.replace(/\.[^/.]+$/,""),".pdf");t.save(d),S({title:"Conversion Successful",description:"".concat(e.length," JPEG(s) have been converted to ").concat(d," and downloaded.")})}catch(e){console.error(e),S({variant:"destructive",title:"PDF Conversion Error",description:e instanceof Error?e.message:"An unexpected error occurred."})}finally{u(!1)}},M=async()=>{if(0===e.length)return void S({variant:"destructive",title:"No PDF Files",description:"Please select PDF file(s) first."});u(!0);let t=0,r=0;try{let a=e.map(async e=>{try{let r=await e.arrayBuffer(),a=await N.YE({data:r}).promise,s=await a.getPage(1),o=s.getViewport({scale:2}),n=document.createElement("canvas"),i=n.getContext("2d");if(n.height=o.height,n.width=o.width,!i)throw Error("Could not get canvas context for "+e.name);await s.render({canvasContext:i,viewport:o}).promise;let l=n.toDataURL("image/jpeg",.9),d=document.createElement("a");d.href=l,d.download="".concat(e.name.replace(/\.[^/.]+$/,""),"_page1.jpg"),document.body.appendChild(d),d.click(),document.body.removeChild(d),t++}catch(t){console.error("Error converting ".concat(e.name,":"),t),r++}});await Promise.all(a),t>0&&S({title:"Conversion Complete",description:"".concat(t," PDF(s) converted to JPEG. ").concat(r>0?r+" failed.":"")}),r>0&&0===t&&S({variant:"destructive",title:"JPEG Conversion Failed",description:"All PDF to JPEG conversions failed."})}catch(e){console.error(e),S({variant:"destructive",title:"JPEG Conversion Error",description:e instanceof Error?e.message:"An unexpected error occurred during the batch process."})}finally{u(!1)}},z=e=>{T(e),O()},U="jpegToPdf"===F?"Convert & Download PDF":e.length>1?"Convert & Download JPEGs":"Convert & Download JPEG",B="jpegToPdf"===F&&1===e.length&&1===r.length;return(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center min-h-screen p-4 sm:p-6 md:p-8 bg-background text-foreground",children:[(0,a.jsxs)(n,{className:"w-full max-w-lg shadow-2xl rounded-xl overflow-hidden",children:[(0,a.jsx)(i,{className:"bg-primary/10 p-6",children:(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)(h.A,{className:"w-10 h-10 text-primary"}),(0,a.jsxs)("div",{children:[(0,a.jsx)(l,{className:"text-2xl md:text-3xl font-headline text-primary",children:(0,a.jsx)("h1",{children:"jpegToPdf"===F?"JPEG to PDF Converter":"PDF to JPEG Converter"})}),(0,a.jsx)(d,{className:"text-foreground/80",children:"jpegToPdf"===F?"Upload JPEG file(s) to convert them into a single PDF document.":"Upload PDF file(s) to convert the first page of each to a JPEG image."})]})]})}),(0,a.jsxs)(c,{className:"p-6 space-y-6",children:[(0,a.jsxs)("div",{className:"flex justify-center space-x-2 mb-4",children:[(0,a.jsx)(m,{variant:"jpegToPdf"===F?"default":"outline",onClick:()=>z("jpegToPdf"),className:"flex-1",children:"JPEG to PDF"}),(0,a.jsx)(m,{variant:"pdfToJpeg"===F?"default":"outline",onClick:()=>z("pdfToJpeg"),className:"flex-1",children:"PDF to JPEG"})]}),0===e.length?(0,a.jsxs)("label",{htmlFor:"file-upload",className:"flex flex-col items-center justify-center w-full h-64 border-2 border-dashed rounded-lg cursor-pointer \n                         ".concat(D?"border-primary bg-primary/10":"border-primary/30 hover:border-primary hover:bg-primary/5"," \n                         transition-all duration-200 ease-in-out"),onDrop:G,onDragOver:_,onDragLeave:R,children:[(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center pt-5 pb-6 text-center",children:[(0,a.jsx)(v.A,{className:"w-12 h-12 mb-4 ".concat(D?"text-primary":"text-primary/70")}),(0,a.jsx)("p",{className:"mb-2 text-base font-semibold text-foreground",children:"Click to upload file(s) or drag and drop"}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"jpegToPdf"===F?"JPEG files only. Max 10MB per file suggested.":"PDF files only. Max 10MB per file suggested."})]}),(0,a.jsx)(g,{id:"file-upload",type:"file",className:"hidden",onChange:e=>{k(e.target.files?Array.from(e.target.files):null)},accept:"jpegToPdf"===F?"image/jpeg":"application/pdf",ref:A,multiple:!0})]}):(0,a.jsxs)("div",{className:"space-y-4",children:[B&&(0,a.jsx)("div",{className:"relative w-full aspect-video rounded-lg overflow-hidden border-2 border-primary/20 shadow-inner bg-muted/20",children:(0,a.jsx)(b.default,{src:r[0],alt:"Preview of selected JPEG",fill:!0,className:"object-contain",sizes:"(max-width: 768px) 100vw, (max-width: 1200px) 50vw, 33vw"})}),(0,a.jsxs)("div",{className:"p-4 border-2 border-primary/20 rounded-lg bg-muted/20 shadow-inner",children:[(0,a.jsxs)("p",{className:"text-sm font-medium text-foreground mb-2",children:[e.length," file(s) selected:"]}),(0,a.jsx)("ul",{className:"list-none pl-0 text-xs text-muted-foreground max-h-32 overflow-y-auto space-y-1",children:e.map((e,t)=>(0,a.jsxs)("li",{className:"truncate flex items-center",title:e.name,children:["jpegToPdf"===F&&"image/jpeg"===e.type&&(0,a.jsx)(b.default,{src:r[t]||"",alt:"",width:16,height:16,className:"w-4 h-4 mr-2 object-cover rounded-sm"}),"pdfToJpeg"===F&&"application/pdf"===e.type&&(0,a.jsx)(x.A,{className:"w-4 h-4 mr-2 shrink-0"}),(0,a.jsx)("span",{className:"flex-1 truncate",children:e.name}),(0,a.jsxs)("span",{className:"ml-2 whitespace-nowrap",children:["(",(e.size/1024).toFixed(2)," KB)"]})]},t))})]}),(0,a.jsx)("div",{className:"flex items-center justify-between",children:(0,a.jsxs)(m,{variant:"ghost",size:"sm",onClick:O,className:"text-destructive hover:text-destructive hover:bg-destructive/10","aria-label":"Clear selection",children:[(0,a.jsx)(j.A,{className:"w-4 h-4 mr-2"})," Clear All"]})}),(0,a.jsx)("div",{className:"flex flex-col sm:flex-row gap-3",children:(0,a.jsxs)(m,{onClick:()=>{"jpegToPdf"===F?I():M()},disabled:p||0===e.length,className:"flex-1 py-3 text-base group",size:"lg",children:[p?(0,a.jsx)(w.A,{className:"w-5 h-5 mr-2 animate-spin"}):(0,a.jsx)(y.A,{className:"w-5 h-5 mr-2 transition-transform duration-200 group-hover:scale-110"}),p?"Converting...":U]})})]})]}),(0,a.jsx)(f,{className:"p-6 bg-secondary/20 border-t",children:(0,a.jsx)("p",{className:"text-xs text-center text-muted-foreground w-full",children:"Your files are processed locally in your browser and are never uploaded to any server."})})]}),(0,a.jsx)("footer",{className:"mt-8 text-center",children:(0,a.jsxs)("p",{className:"text-sm text-muted-foreground",children:["\xa9 ",new Date().getFullYear()," JPEGtoPDF & PDFtoJPEG Converter. All rights reserved."]})})]})}},2751:(e,t,r)=>{Promise.resolve().then(r.bind(r,2299))},7481:(e,t,r)=>{"use strict";r.d(t,{dj:()=>p});var a=r(2115);let s=0,o=new Map,n=e=>{if(o.has(e))return;let t=setTimeout(()=>{o.delete(e),c({type:"REMOVE_TOAST",toastId:e})},1e6);o.set(e,t)},i=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:r}=t;return r?n(r):e.toasts.forEach(e=>{n(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===r||void 0===r?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}},l=[],d={toasts:[]};function c(e){d=i(d,e),l.forEach(e=>{e(d)})}function f(e){let{...t}=e,r=(s=(s+1)%Number.MAX_SAFE_INTEGER).toString(),a=()=>c({type:"DISMISS_TOAST",toastId:r});return c({type:"ADD_TOAST",toast:{...t,id:r,open:!0,onOpenChange:e=>{e||a()}}}),{id:r,dismiss:a,update:e=>c({type:"UPDATE_TOAST",toast:{...e,id:r}})}}function p(){let[e,t]=a.useState(d);return a.useEffect(()=>(l.push(t),()=>{let e=l.indexOf(t);e>-1&&l.splice(e,1)}),[e]),{...e,toast:f,dismiss:e=>c({type:"DISMISS_TOAST",toastId:e})}}},9434:(e,t,r)=>{"use strict";r.d(t,{cn:()=>o});var a=r(2596),s=r(9688);function o(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,s.QP)((0,a.$)(t))}}},e=>{var t=t=>e(e.s=t);e.O(0,[84,930,668,320,441,684,358],()=>t(2751)),_N_E=e.O()}]);